- name: Run Playwright Tests
  id: run_tests
  run: |
    set -o pipefail
    EXIT_CODE=0
    DISPLAY=:99 npx playwright test ${{ matrix.group.file }} --project="Google Chrome" --workers=1 --headed --reporter=json 2>&1 | tee test_output.txt || EXIT_CODE=$?
    echo "Test exit code: $EXIT_CODE"
    echo "exit-code=$EXIT_CODE" >> $GITHUB_OUTPUT
    exit $EXIT_CODE
  working-directory: ./Playwright-Automation
  continue-on-error: true




- name: Upload raw test result JSON
  if: always()
  uses: actions/upload-artifact@v4
  with:
    name: Raw-Results-${{ matrix.group.name }}
    path: ./Playwright-Automation/test-results/report.json
    retention-days: 3



const files = globSync('../raw-collection/**/report.json');
