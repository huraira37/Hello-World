--reporter=list,json=./test-results/report.json


import { generate } from 'monocart-reporter';
import { globSync } from 'glob';

const run = async () => {
  const files = globSync('../raw-collection/**/report.json');

  console.log(`Found ${files.length} raw JSON files to merge`);
  files.forEach(f => console.log(' â†’ ' + f));

  if (!files.length) {
    console.error('No JSON files found to merge!');
    process.exit(1);
  }

  const output = '../merged-report';

  await generate({
    files,
    output,
    name: 'Final Combined Monocart Report'
  });

  console.log(`Merged report written to ${output}/index.html`);
};

run();
